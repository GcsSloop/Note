# 树莓派温度监控

### 1. 需求

1. 可以实时查看树莓派的温度
2. 可以实时查看风扇状态(风扇通过 GPIO 控制)
3. 可以控制风扇开关

### 2. 建立路径

1. 目标：web网页。
2. 已知：
   1. 通过 shell 可以获取树莓派的温度
   2. 可以通过 shell 或者 python 库拿到 GPIO 状态
   3. 可以通过 shell 或者 python 控制 GPIO
   4. php 可以调用 shell 或者 python 脚本，并获取执行结果
3. 路径：
   1. 通过 GPIO 可以控制继电器开关状态，通过继电器控制风扇启动和停止。
   2. 定时执行 python 脚本，通过 python 脚本获取设备温度，根据设备温度控制 GPIO 输出。
   3. python 可以获取 GPIO 状态，将特定的 GPIO 状态存储起来，作为当前风扇是否运行的标志。
   4. PHP 读取特定文件，获取到当前风扇状态和 GPIO 状态(即风扇状态)。
   5. 前端定时请求 PHP 并获取结果，将结果反馈到页面状态上。
   
   
   
   1. WiringPi 可以直接通过 shell 命令查看和控制 GPIO。
   2. PHP 调用 WiringPi 来实现控制 GPIO 输出(即风扇)

> **GPIO 输出也是有电压的，但是为什么要借助继电器，而不直接使用 GPIO 的输出电压呢？**
>
> 这是因为 GPIO 的输出功率较小，不能够接大负载用电设备，所以要使用 GPIO 控制继电器，再用继电器控制电路通断，进而控制风扇。

### 3. 效果展示

![动态图片](http://gcsblog.oss-cn-shanghai.aliyuncs.com/blog/2019-06-18-140756.gif?gcssloop)