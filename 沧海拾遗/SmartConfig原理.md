# SmartConfig 原理

**SmartConfig 即在物联网设备没有建立任何实质性连接的情况下, 收到手机应用发送的 wifi ssid 和密码, 进而主动连接到网络中的方式.**

其核心原理其实是物联网设备的网络芯片可以开启混杂模式,监听其 Wifi 信号覆盖范围内的所有传输信息, 并从这些信息中找到符合条件的信息, 进行联网.

### 手机端

1. 连接到目标网络,即物联网设备需要连接到的WiFi上.
2. 发送udp广播或者组播, 内容是该 WiFI 的 ssid 和密码.
3. 扫描当前网络是否已经加入了物联网设备.
4. 如果扫描到设备或者超时,停止发送广播.
5. 否则持续上述步骤.

### 设备端

1. 通电,如果没有可用 WiFi 进入混杂模式.
2. 尝试收取当前信号范围内的所有数据,并从中尝试找到特定的数据帧.
3. 如果找到了特定的数据帧,就去尝试连接到数据帧中指定的 WiFi.

